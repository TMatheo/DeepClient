using DeepCore.Client.Misc;
using VRC.SDKBase;

namespace DeepCore.Client.Module.Exploits
{
    internal class OwnerNameSpoofer
    {
        public static string WorldID = "";
        public static bool Enabled = false;
        public static void Update()
        {
            if (Enabled) 
            {
                if (Networking.LocalPlayer != null)
                {
                    PlayerUtil.GetLocalVRCPlayer().field_Private_VRCPlayerApi_0.displayName = RoomManager.field_Internal_Static_ApiWorld_0.authorName; DeepConsole.Log("OwnerSpoof", $"Spoofed as :{PlayerUtil.GetLocalVRCPlayer().field_Private_VRCPlayerApi_0.displayName} | World Author:{RoomManager.field_Internal_Static_ApiWorld_0.authorName}");
                    VrcExtensions.Toast("OwnerSpoof", $"Spoofed as :{PlayerUtil.GetLocalVRCPlayer().field_Private_VRCPlayerApi_0.displayName} | World Author:{RoomManager.field_Internal_Static_ApiWorld_0.authorName}");
                    Enabled = false;
                }
            }
        }
    }
}
